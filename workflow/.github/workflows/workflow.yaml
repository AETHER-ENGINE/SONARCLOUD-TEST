# name: chocolatine

# on:
#    push:
#     branches-ignore:
#     - "ga-ignore-*"
#    pull_request:
#     branches-ignore:
#     - "ga-ignore-*"

# env:
#   MIRROR_URL: "git@github.com:angesint04/ange-sint-mirror.git"
#   EXECUTABLE: "102architect"

# jobs:
#    check_coding_syle:
#       name: chocolatine
#       runs-on: ubuntu-latest
#       container:
#          image: ghcr.io/epitech/coding-style-checker:latest
#       steps:
#         - uses: actions/checkout@v3
#         - id: check_coding_syle
#           run: |
#             check.sh $(pwd) $(pwd)
#             coding_style_output=$(cat coding_style_report.txt)
#             errors=$(echo "$coding_style_output" | grep -o "ERROR:.*")
#             if [ -n "$errors" ]; then
#             for error in $errors; do
#             echo "::error file=coding_style_report.txt,line=1::$error"
#             done
#             else
#             echo "There are no errors of coding style"
#             fi
            
#    run_tests:
#       name: tests
#       runs-on: ubuntu-latest
#       container:
#          image: epitechcontent/epitest-docker
#       steps:
#         - uses: actions/checkout@v3
#         - id: run_tests
#           run: make tests_run
#           timeout-minutes: 2

#    check_program_compilation:
#        name: compilation
#        runs-on: ubuntu-latest
#        container:
#           image: epitechcontent/epitest-docker
#        steps:
#          - uses: actions/checkout@v3
#          - id: check_program_compilation
#            run: make
#            timeout-minutes: 2
#          - run: make clean

#    push_to_mirror:
#      needs:
#          - check_coding_syle
#          - check_program_compilation
         
#      name: push
#      runs-on: ubuntu-latest
#      steps:
#        - uses: actions/checkout@v3
#          with:
#            fetch-depth: 0
#        - uses: pixta-dev/repository-mirroring-action@v1
#          with:
#            target_repo_url:
#              ${{ env.MIRROR_URL }}
#            ssh_private_key:
#              ${{ secrets.GIT_SSH_PRIVATE_KEY }}


name: Sodarcloud

on:
   push:
    branches:
      - workflow

env:
  MIRROR_URL: "git@github.com:AETHER-ENGINE/SONARCLOUD-TEST.git"

jobs:
   push_to_mirror:     
     name: push
     runs-on: ubuntu-latest
     steps:
       - uses: actions/checkout@v3
         with:
           fetch-depth: 0
       - uses: pixta-dev/repository-mirroring-action@v1
         with:
           target_repo_url:
             ${{ env.MIRROR_URL }}
           ssh_private_key:
             ${{ secrets.GIT_SSH_PRIVATE_KEY }}
 